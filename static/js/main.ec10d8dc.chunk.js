(this["webpackJsonpmusicaldashboard-refactored"]=this["webpackJsonpmusicaldashboard-refactored"]||[]).push([[0],{50:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n(0),s=n.n(a),r=n(27),c=n.n(r),o=(n(50),n(14)),l=n(10),u=n(11),d=n(5),h=n(16),p=n(15),m=(n(80),n(81),n(128)),b=n(60),j=n.n(b),O=n(59),f=n.n(O),v=n(61),k=n.n(v),x=n(52),y=n(44),g=n(126),w=n(67),M=n(127),S=n(123),_=n(124),C=n(125);function I(){var e=Object(x.a)(["\n  ","\n"]);return I=function(){return e},e}var N=Object(w.a)({palette:{primary:{main:S.a[500]},secondary:{main:_.a[300]}}}),V=Object(y.b)(C.a)(I(),(function(e){var t=e.theme;return"\n  cursor: pointer;\n  transition: ".concat(t.transitions.create(["background-color","transform"],{duration:t.transitions.duration.standard}),";\n  &:hover {\n    transform: scale(2);\n  }\n  ")}));function T(e){return Object(i.jsx)(g.a,{children:Object(i.jsx)(M.a,{theme:N,children:Object(i.jsx)(y.a,{theme:N,children:Object(i.jsx)(V,{className:e.scale,children:e.children})})})})}var P=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.sidebarOpen?Object(i.jsx)(T,{children:Object(i.jsx)(f.a,{color:"secondary"})}):Object(i.jsx)(T,{children:Object(i.jsx)(j.a,{color:"secondary"})});return Object(i.jsx)("div",{className:"header",children:Object(i.jsxs)("div",{className:"header-content",children:[Object(i.jsx)("div",{children:Object(i.jsx)(m.a,{onClick:this.props.toggleSidebar,className:"sidebar-toggle",children:e})}),Object(i.jsx)("div",{className:"mood",children:Object(i.jsx)(k.a,{})})]})})}}]),n}(a.Component),z=(n(89),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).handleClick=function(e){e.stopPropagation(),i.dissmissMenuItem(i.props.title)},i.dissmissMenuItem=i.props.clickback.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.stowed?"interactive":"interactive exit";return Object(i.jsxs)("div",{className:e,onClick:this.handleClick,children:[Object(i.jsx)(C.a,{color:"primary",children:"add_circle"}),this.props.children]},"interactive-"+this.props.title)}}]),n}(a.Component)),D=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).clickback=i.props.clickback.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.props.item.hasOwnProperty("children")?Object(i.jsx)(A,{menuOpen:this.props.menuOpen,invokedMenuItems:this.props.invokedMenuItems,clickback:this.clickback,children:this.props.item.children},"menu-"+this.props.item.title):"",n=this.props.item.hasOwnProperty("icon")?Object(i.jsx)(C.a,{children:this.props.item.icon.name}):"";return e=this.props.menuOpen?Object(i.jsxs)("div",{className:"menuItemContainer",children:[Object(i.jsxs)("div",{className:"label",children:[n,Object(i.jsx)("div",{children:this.props.item.title})]}),Object(i.jsx)("div",{className:"offset",children:t})]}):Object(i.jsx)("span",{children:Object(i.jsx)("div",{className:"label",children:n})}),e=Object(i.jsx)("div",{className:"menuItem",children:e}),this.props.item.hasOwnProperty("stowed")?Object(i.jsx)(z,{title:this.props.item.title,clickback:this.clickback,invokedMenuItems:this.props.invokedMenuItems,stowed:!this.props.invokedMenuItems.map((function(e){return e.title})).includes(this.props.item.title),children:e}):e}}]),n}(a.Component),A=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).clickback=i.props.clickback.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.props.children.map((function(t){return Object(i.jsx)(D,{invokedMenuItems:e.props.invokedMenuItems,menuOpen:e.props.menuOpen,item:t,clickback:e.props.clickback,children:e.props.invokedMenuItems.length},"parent-"+t.title)}))}}]),n}(a.Component),L=A,H=n(131),F=n(129),q=n(66),B=n.n(q),E=(n(90),n(91),n(92),n(93),n(62)),J=n.n(E),R=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"menu_items",value:function(){return[{title:"Vanilla MuseNet",icon:{name:"subject"},children:[{title:"Composer",interactive:!0,stowed:!0,toParam:"composer",inputType:"select",options:["chopin","mozart","rachmaninoff","country","bach","beethoven","thebeatles","franksinatra","tchaikovsky"],info_title:"Choose the style of music for MuseNet to select.",info_body:""},{title:"Instruments",interactive:!0,stowed:!0,toParam:"instrumentation",inputType:"checkboxinput",options:["piano","strings","winds","drums","harp","guitar","bass"],info_title:"MuseNet will attempt to generate a song with the checked instruments.",info_body:""}]},{title:"Shape & Form",icon:{name:"playlist_add"},children:[{title:"Temperature",interactive:!0,stowed:!0,toParam:"temp",inputType:"slider",min:.5,max:1.5,default:.9,info_title:"Randomness during generation",info_body:"A higher temperature will lead to more experimental outputs, while a smaller temperature might lead to overfitting."},{title:"Length",interactive:!0,stowed:!0,toParam:"length",inputType:"slider",min:1,max:6,default:5,info_title:"Output length",info_body:"Automatically request output from MuseNet this many times."}]},{title:"Fine Tuning",icon:{name:"queue_music"},children:[{title:"Quality Control",interactive:!0,stowed:!0,toParam:"cutoff",inputType:"slider",min:0,max:1,default:.6,info_title:"Higher values = more likely to fail",info_body:"Define the minimum percentage confidence that a given generation is of a suitable quality. Only the best for you!"},{title:"Clip Length",interactive:!0,stowed:!0,toParam:"clip_length",inputType:"slider",min:2,max:20,default:5,info_title:"Higher values = more likely to succeed",info_body:"When scanning for chunks of repeated music, set the window size of a chunk to this many seconds."},{title:"Repetition Detection",interactive:!0,stowed:!0,toParam:"repeat_percentage",inputType:"slider",min:0,max:1,default:.15,info_title:"High values = more likely to succeed",info_body:"Define the cutoff for the maximum percentage of a generation that can contain repeated sections."}]}]}},{key:"test",value:function(){return"aoeu"}},{key:"flatten",value:function(e){return e.filter((function(e){return Array.isArray(e)})).length>0?this.flatten(e.flat()):e}},{key:"interactive_menu_items",value:function(e){var t=this;return e.hasOwnProperty("children")?e.children.map((function(e){return t.interactive_menu_items(e)})):e.hasOwnProperty("interactive")?e:null}},{key:"to_arr",value:function(){var e=this;return this.flatten(this.menu_items().map((function(t){return e.interactive_menu_items(t)})).filter((function(e){return null!=e})))}},{key:"initialState",value:function(){return this.to_arr().map((function(e){return{title:e.title,stowed:e.stowed,value:e.default}}))}}]),e}(),W=(R.to_arr(R.menu_items()),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).updateValue=i.props.updateValue.bind(Object(d.a)(i)),i.toggleMenuItem=i.props.toggleMenuItems.bind(Object(d.a)(i)),i.randomizeState=i.props.randomizeState.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"handleClick",value:function(){this.randomizeState()}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{className:"shaker "+this.props.scale,children:Object(i.jsx)(T,{children:Object(i.jsx)(J.a,{onClick:function(){return e.handleClick()},color:"secondary"})})})}}]),n}(a.Component)),Q=n(64),X=n.n(Q),G=n(65),K=n.n(G),U=n(132),Y=R.to_arr(R.menu_items()),Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).updateValue=i.props.updateValue.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"handleChange",value:function(e,t){this.updateValue(this.props.item.title,t)}},{key:"handleSelectionChange",value:function(e){this.updateValue(this.props.item.title,e.target.value)}},{key:"handleCheckboxChange",value:function(e,t){var n,i=e.target.value;n=Array.isArray(t)?t.includes(i)?t.filter((function(e){return e!==i})):t.concat(i):[i],this.updateValue(this.props.item.title,n)}},{key:"render",value:function(){var e=this,t=Y.find((function(t){return t.title===e.props.item.title}));if("slider"===t.inputType){var n=t.max<3?.01:1,a=t.hasOwnProperty("inverted")?"inverted":null;return Object(i.jsx)("div",{children:Object(i.jsx)(U.a,{value:this.props.item.value,min:t.min,max:t.max,track:a,onChange:function(t,n){return e.handleChange(t,n)},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",step:n})})}if("select"===t.inputType){var s=t.options.map((function(e){return Object(i.jsx)("option",{value:e,children:e},"option-"+e)}));return Object(i.jsxs)("div",{className:"section-area",children:[Object(i.jsx)("select",{className:"select",value:this.props.item.value,onChange:function(t){return e.handleSelectionChange(t)},children:s}),Object(i.jsx)("span",{className:"focus"})]})}if("checkboxinput"===t.inputType){var r=this.props.item.value,c=t.options.map((function(t){var n=Array.isArray(r)&&r.includes(t)?"active":"inactive";return Object(i.jsxs)("label",{className:"checkbox",children:[Object(i.jsxs)("span",{className:"checkbox__input",children:[Object(i.jsx)("input",{type:"checkbox",id:t,value:t,onChange:function(t){return e.handleCheckboxChange(t,r)},checked:"active"===n,name:"checkbox"}),Object(i.jsx)("span",{className:"checkbox__control",children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:Object(i.jsx)("path",{fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M1.73 12.91l6.37 6.37L22.79 4.59"})})})]}),Object(i.jsx)("label",{className:"radio__label",htmlFor:t,children:t})]},"checkbox-"+t)}));return Object(i.jsx)("div",{className:"custom-control custom-checkbox ",children:c})}}}]),n}(a.Component),$=n(130),ee=n(133),te=n(63),ne=n.n(te),ie=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).close=i.props.showToaster.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"handleClick",value:function(e){this.close(e)}},{key:"render",value:function(){var e=this,t=this.props.open?"block":"none";return Object(i.jsx)("div",{style:{display:t},children:Object(i.jsxs)($.a,{severity:"info",action:Object(i.jsx)(m.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){e.handleClick(!1)},children:Object(i.jsx)(ne.a,{fontSize:"inherit"})}),children:[Object(i.jsx)(ee.a,{children:this.props.title}),this.props.body]})})}}]),n}(a.Component),ae=R.to_arr(R.menu_items()),se=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).handleClick=function(e){e.stopPropagation(),i.dissmissItem(i.props.item.title)},i.dissmissItem=i.props.clickback.bind(Object(d.a)(i)),i.updateValue=i.props.updateValue.bind(Object(d.a)(i)),i.state={open:!1},i.st=i.boundShowToaster.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"boundShowToaster",value:function(e){this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{open:e})}))}},{key:"render",value:function(){var e=this,t=ae.find((function(t){return t.title===e.props.item.title}));return Object(i.jsxs)("div",{className:"MuseNetComponent",children:[Object(i.jsx)(ie,{open:this.state.open,setOpen:this.state.setOpen,showToaster:this.st,title:t.info_title,body:t.info_body}),Object(i.jsxs)("div",{className:"mnc-header centered-header",children:[Object(i.jsx)("div",{children:Object(i.jsx)(T,{children:Object(i.jsx)(X.a,{color:"secondary",onClick:this.handleClick},"interactive-"+this.props.item.title)})}),Object(i.jsx)("div",{children:this.props.item.title}),Object(i.jsx)("div",{children:Object(i.jsx)(m.a,{onClick:function(){return e.boundShowToaster(!e.state.open)},children:Object(i.jsx)(T,{children:Object(i.jsx)(K.a,{color:"secondary"})})})})]}),Object(i.jsx)(Z,{item:this.props.item,updateValue:this.updateValue})]})}}]),n}(a.Component),re=R.to_arr(R.menu_items());var ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).dissmissMenuItem=i.props.clickback.bind(Object(d.a)(i)),i.updateValue=i.props.updateValue.bind(Object(d.a)(i)),i.resetState=i.props.resetState.bind(Object(d.a)(i)),i.randomizeState=i.props.randomizeState.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"resetStateHandler",value:function(e){this.resetState()}},{key:"render",value:function(){var e,t=this,n=this.props.invokedMenuItems.map((function(e){return Object(i.jsx)(se,{clickback:t.dissmissMenuItem,item:e,updateValue:t.updateValue},"input-"+e.title)}));0===n.length?(n=Object(i.jsx)("div",{className:"placeholder"}),e=null):e=Object(i.jsxs)("div",{className:"options-have-been-selected",children:[Object(i.jsx)("span",{className:"refresher",children:Object(i.jsx)(T,{children:Object(i.jsx)(B.a,{color:"secondary",onClick:function(e){return t.resetStateHandler()}})})}),Object(i.jsxs)("span",{children:[Object(i.jsx)(H.a,{className:"inputemail",placeholder:"Enter email...",id:"email"}),Object(i.jsx)(F.a,{variant:"contained",className:"submitbutton",onClick:function(){return function(e){var t=e.map((function(e){return[re.find((function(t){return e.title===t.title})).toParam,e.value]}));t=Object(o.a)(Object(o.a)({},t),{},{email:document.getElementById("email").value});var n=new XMLHttpRequest;n.open("POST","https://www.1click2music.com/app/make_song",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){console.log("HELLO"),console.log(this.responseText);var e=JSON.parse(this.responseText);console.log(e)}}(t.props.invokedMenuItems)},children:"create"})]})]});var a=null;return e||(a="only-element"),Object(i.jsxs)("div",{className:"music-box",children:[Object(i.jsxs)("div",{className:"submit-form centered-header",children:[e,Object(i.jsx)(W,{scale:a,updateValue:this.updateValue,toggleMenuItems:this.dissmissMenuItem,randomizeState:this.randomizeState})]}),Object(i.jsx)("div",{className:"playarea",children:n})]})}}]),n}(a.Component);function oe(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),t=e[i-=1],e[i]=e[n],e[n]=t;return e}var le=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={menuItems:R.initialState(),sidebarOpen:!1},i.handleViewSidebar=i.handleViewSidebar.bind(Object(d.a)(i)),i.handleMenuItemDismissal=i.handleMenuItemDismissal.bind(Object(d.a)(i)),i.updateMenuItemValue=i.updateMenuItemValue.bind(Object(d.a)(i)),i.resetState=i.resetState.bind(Object(d.a)(i)),i.randomizeState=i.randomizeState.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"resetState",value:function(){this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{menuItems:R.initialState()})}))}},{key:"randomizeState",value:function(){var e=R.to_arr(R.menu_items()),t=e[Math.floor(Math.random()*e.length)].title,n=e.map((function(e){var n=Math.random()<.5||e.title===t,i=e.default;if(n)switch(e.inputType){case"slider":i=Math.random()*(e.max-e.min)+e.min,i=e.max<3?Math.round(100*i)/100:Math.ceil(i);break;case"select":i=e.options[Math.floor(Math.random()*e.options.length)];break;case"checkboxinput":i=function(e,t){for(var n,i,a=e.slice(0),s=e.length;s--;)n=a[i=Math.floor((s+1)*Math.random())],a[i]=a[s],a[s]=n;return a.slice(0,t)}(e.options,3);break;default:console.log(">> broke")}return{title:e.title,stowed:!n,value:i}}));this.setState({menuItems:oe(n),sidebarOpen:!0})}},{key:"handleMenuItemDismissal",value:function(e){var t=Object.assign([],this.state.menuItems),n=t.findIndex((function(t){return t.title===e}));t[n]=Object(o.a)(Object(o.a)({},t[n]),{},{stowed:!t[n].stowed}),this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{menuItems:t})}))}},{key:"updateMenuItemValue",value:function(e,t){var n=Object.assign([],this.state.menuItems),i=n.findIndex((function(t){return t.title===e}));n[i]=Object(o.a)(Object(o.a)({},n[i]),{},{value:t}),this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{menuItems:n})}))}},{key:"handleViewSidebar",value:function(){var e=this;this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{sidebarOpen:!e.state.sidebarOpen})}))}},{key:"render",value:function(){var e=this.state.sidebarOpen?"sidebar open":"sidebar closed",t=this.state.menuItems.filter((function(e){return!e.stowed}));return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(P,{toggleSidebar:this.handleViewSidebar,sidebarOpen:this.state.sidebarOpen}),Object(i.jsx)("div",{className:e,children:Object(i.jsx)(L,{invokedMenuItems:t,menuOpen:this.state.sidebarOpen,clickback:this.handleMenuItemDismissal,children:R.menu_items()})}),Object(i.jsx)("div",{className:"content-area",children:Object(i.jsx)(ce,{invokedMenuItems:t,clickback:this.handleMenuItemDismissal,updateValue:this.updateMenuItemValue,resetState:this.resetState,randomizeState:this.randomizeState})})]})}}]),n}(a.Component),ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))},de=n(68),he="/static";console.log("test"),console.log("basename: /static"),c.a.render(Object(i.jsx)(de.a,{basename:he,children:Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(le,{})})}),document.getElementById("root")),ue()}},[[98,1,2]]]);
//# sourceMappingURL=main.ec10d8dc.chunk.js.map