{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/src/App.js\";\nimport './App.css';\nimport './index.css';\nimport \"./Layouts/Sidebar/SideBar.css\";\nimport Header from './Layouts/Header/Header';\nimport MenuItems from \"./Layouts/Sidebar/MenuItems\";\nimport MusicBox from \"./Layouts/MainContent/MusicBox\";\nimport Joyride from 'react-joyride';\nimport React, { Component } from 'react';\nimport defaults from './defaultMenuItems';\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element.\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction getRandomSubarray(arr, size) {\n  var shuffled = arr.slice(0),\n      i = arr.length,\n      temp,\n      index;\n\n  while (i--) {\n    index = Math.floor((i + 1) * Math.random());\n    temp = shuffled[index];\n    shuffled[index] = shuffled[i];\n    shuffled[i] = temp;\n  }\n\n  return shuffled.slice(0, size);\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuItems: defaults.initialState(),\n      sidebarOpen: false,\n      steps: [{\n        target: '.inner-music-box',\n        content: 'Yellow die: randomize the initial configuration.',\n        placement: 'right'\n      }, {\n        target: '.ask-for-help',\n        content: 'Yellow help: reveals what attribute is being modified.'\n      }]\n    };\n    this.handleViewSidebar = this.handleViewSidebar.bind(this);\n    this.handleMenuItemDismissal = this.handleMenuItemDismissal.bind(this);\n    this.updateMenuItemValue = this.updateMenuItemValue.bind(this);\n    this.resetState = this.resetState.bind(this);\n    this.randomizeState = this.randomizeState.bind(this);\n  }\n\n  resetState() {\n    this.setState(prevState => {\n      return { ...prevState,\n        menuItems: defaults.initialState()\n      };\n    });\n  }\n\n  randomizeState() {\n    const options = defaults.to_arr(defaults.menu_items());\n    const randTitle = options[Math.floor(Math.random() * options.length)].title;\n    const newState = options.map(item => {\n      let notStowed = Math.random() < .5 || item.title === randTitle;\n      let value = item.default;\n\n      if (notStowed) {\n        switch (item.inputType) {\n          case \"slider\":\n            value = Math.random() * (item.max - item.min) + item.min;\n\n            if (item.max < 3) {\n              value = Math.round(value * 100) / 100;\n            } else {\n              value = Math.ceil(value);\n            }\n\n            break;\n\n          case \"select\":\n            value = item.options[Math.floor(Math.random() * item.options.length)];\n            break;\n\n          case \"checkboxinput\":\n            value = getRandomSubarray(item.options, 3);\n            break;\n\n          default:\n            console.log('>> broke');\n            break;\n        }\n      }\n\n      return {\n        title: item.title,\n        stowed: !notStowed,\n        value: value\n      };\n    });\n    this.setState(prevState => ({ ...prevState,\n      menuItems: shuffle(newState)\n    }));\n  }\n\n  handleMenuItemDismissal(title) {\n    let newMenuItemsState = Object.assign([], this.state.menuItems);\n    const itemIdx = newMenuItemsState.findIndex(item => item.title === title);\n    newMenuItemsState[itemIdx] = { ...newMenuItemsState[itemIdx],\n      stowed: !newMenuItemsState[itemIdx].stowed\n    };\n    this.setState(prevState => {\n      return { ...prevState,\n        menuItems: newMenuItemsState\n      };\n    });\n  }\n\n  updateMenuItemValue(title, newValue) {\n    let newMenuItemsState = Object.assign([], this.state.menuItems);\n    const itemIdx = newMenuItemsState.findIndex(item => item.title === title);\n    newMenuItemsState[itemIdx] = { ...newMenuItemsState[itemIdx],\n      value: newValue\n    };\n    this.setState(prevState => {\n      return { ...prevState,\n        menuItems: newMenuItemsState\n      };\n    });\n  }\n\n  handleViewSidebar() {\n    this.setState(prevState => {\n      return { ...prevState,\n        sidebarOpen: !this.state.sidebarOpen\n      };\n    });\n  }\n\n  render() {\n    const {\n      steps\n    } = this.state;\n    var sidebarClass = this.state.sidebarOpen ? 'sidebar open' : 'sidebar closed';\n    var exploded_menu_items = this.state.menuItems.filter(item => !item.stowed);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        toggleSidebar: this.handleViewSidebar,\n        sidebarOpen: this.state.sidebarOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: sidebarClass,\n        children: /*#__PURE__*/_jsxDEV(MenuItems, {\n          invokedMenuItems: exploded_menu_items,\n          menuOpen: this.state.sidebarOpen,\n          clickback: this.handleMenuItemDismissal,\n          children: defaults.menu_items()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: /*#__PURE__*/_jsxDEV(MusicBox, {\n          invokedMenuItems: exploded_menu_items,\n          clickback: this.handleMenuItemDismissal,\n          updateValue: this.updateMenuItemValue,\n          resetState: this.resetState,\n          randomizeState: this.randomizeState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Joyride, {\n        steps: steps,\n        continuous: true,\n        showSkipButton: true,\n        locale: {\n          last: \"End tour\",\n          skip: \"Close tour\"\n        },\n        showProgress: true,\n        styles: {\n          options: {\n            // modal arrow and background color\n            arrowColor: \"#eee\",\n            backgroundColor: \"#eee\",\n            // page overlay color\n            overlayColor: \"rgba(79, 26, 0, 0.4)\",\n            //button color\n            primaryColor: \"green\",\n            //text color\n            textColor: \"#333\",\n            //width of modal\n            width: 500,\n            //zindex of modal\n            zIndex: 1000\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/src/App.js"],"names":["Header","MenuItems","MusicBox","Joyride","React","Component","defaults","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","getRandomSubarray","arr","size","shuffled","slice","i","temp","index","App","constructor","props","state","menuItems","initialState","sidebarOpen","steps","target","content","placement","handleViewSidebar","bind","handleMenuItemDismissal","updateMenuItemValue","resetState","randomizeState","setState","prevState","options","to_arr","menu_items","randTitle","title","newState","map","item","notStowed","value","default","inputType","max","min","round","ceil","console","log","stowed","newMenuItemsState","Object","assign","itemIdx","findIndex","newValue","render","sidebarClass","exploded_menu_items","filter","last","skip","arrowColor","backgroundColor","overlayColor","primaryColor","textColor","width","zIndex"],"mappings":"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","sourcesContent":["import './App.css';\nimport './index.css';\nimport \"./Layouts/Sidebar/SideBar.css\"\n\nimport Header from './Layouts/Header/Header';\nimport MenuItems from \"./Layouts/Sidebar/MenuItems\";\nimport MusicBox from \"./Layouts/MainContent/MusicBox\";\nimport Joyride from 'react-joyride';\n\nimport React, {Component} from 'react';\n\nimport defaults from './defaultMenuItems';\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction getRandomSubarray(arr, size) {\n    var shuffled = arr.slice(0), i = arr.length, temp, index;\n    while (i--) {\n        index = Math.floor((i + 1) * Math.random());\n        temp = shuffled[index];\n        shuffled[index] = shuffled[i];\n        shuffled[i] = temp;\n    }\n    return shuffled.slice(0, size);\n}\n\nclass App extends Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      menuItems: defaults.initialState(),\n      sidebarOpen: false,\n      steps: [\n              {\n                target: '.inner-music-box',\n                content: 'Yellow die: randomize the initial configuration.',\n                placement: 'right',\n              },\n              {\n                target: '.ask-for-help',\n                content: 'Yellow help: reveals what attribute is being modified.',\n              },\n            ],\n    };\n\n    this.handleViewSidebar = this.handleViewSidebar.bind(this);\n    this.handleMenuItemDismissal = this.handleMenuItemDismissal.bind(this);\n    this.updateMenuItemValue = this.updateMenuItemValue.bind(this);\n    this.resetState = this.resetState.bind(this)\n    this.randomizeState = this.randomizeState.bind(this)\n  }\n\n  resetState(){\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        menuItems: defaults.initialState(),\n      }\n    });\n  }\n\n\n  randomizeState(){\n    const options = defaults.to_arr(defaults.menu_items());\n\n    const randTitle = options[Math.floor(Math.random()*options.length)].title\n\n    const newState = options.map(item => {\n      let notStowed = Math.random() < .5 || item.title === randTitle;\n      let value = item.default\n\n      if(notStowed) {\n        switch (item.inputType) {\n          case \"slider\":\n            value = Math.random()*(item.max - item.min)+item.min;\n            if (item.max < 3){\n              value = Math.round(value*100)/100\n            } else {\n              value = Math.ceil(value)\n            }\n            break;\n          case \"select\":\n            value = item.options[Math.floor(Math.random()*item.options.length)];\n            break;\n          case \"checkboxinput\":\n            value = getRandomSubarray(item.options, 3);\n            break;\n          default:\n            console.log('>> broke')\n            break;\n        }\n      }\n\n      return {\n           title: item.title,\n           stowed: !notStowed,\n           value: value,\n      }\n    })\n\n    this.setState(prevState => ({\n      ...prevState,\n      menuItems: shuffle(newState),\n    }))\n  }\n\n  handleMenuItemDismissal(title){\n    let newMenuItemsState = Object.assign([], this.state.menuItems);\n    const itemIdx = newMenuItemsState.findIndex(item => item.title===title);\n\n    newMenuItemsState[itemIdx] = {\n      ...newMenuItemsState[itemIdx],\n      stowed: !newMenuItemsState[itemIdx].stowed\n    };\n\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        menuItems: newMenuItemsState\n      }\n    });\n  }\n\n  updateMenuItemValue(title, newValue){\n    let newMenuItemsState = Object.assign([], this.state.menuItems);\n    const itemIdx = newMenuItemsState.findIndex(item => item.title===title);\n\n    newMenuItemsState[itemIdx] = {\n      ...newMenuItemsState[itemIdx],\n      value: newValue,\n    };\n\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        menuItems: newMenuItemsState\n      }\n    });\n  }\n\n  handleViewSidebar(){\n    this.setState(prevState => {\n      return{\n        ...prevState,\n        sidebarOpen: !this.state.sidebarOpen,\n      }\n    });\n  }\n\n  render(){\n    const {steps} = this.state;\n    var sidebarClass = this.state.sidebarOpen ? 'sidebar open' : 'sidebar closed';\n    var exploded_menu_items = this.state.menuItems.filter(item => !item.stowed)\n\n    return (\n        <div className=\"App\">\n          <Header toggleSidebar={this.handleViewSidebar} sidebarOpen={this.state.sidebarOpen} />\n\n          <div className={sidebarClass}>\n            <MenuItems\n              invokedMenuItems={exploded_menu_items}\n              menuOpen={this.state.sidebarOpen}\n              clickback={this.handleMenuItemDismissal}>\n              {defaults.menu_items()}\n            </MenuItems>\n          </div>\n          <div className=\"content-area\">\n            <MusicBox\n              invokedMenuItems={exploded_menu_items}\n              clickback={this.handleMenuItemDismissal}\n              updateValue={this.updateMenuItemValue}\n              resetState={this.resetState}\n              randomizeState={this.randomizeState}/>\n          </div>\n            <Joyride\n              steps={steps}\n              continuous={true}\n              showSkipButton={true}\n              locale={{\n                last: \"End tour\",\n                skip: \"Close tour\"}}\n              showProgress={true}\n              styles={{\n                   options: {\n                      // modal arrow and background color\n                      arrowColor: \"#eee\",\n                      backgroundColor: \"#eee\",\n                      // page overlay color\n                      overlayColor: \"rgba(79, 26, 0, 0.4)\",\n                      //button color\n                      primaryColor: \"green\",\n                      //text color\n                      textColor: \"#333\",\n\n                      //width of modal\n                      width: 500,\n                      //zindex of modal\n                      zIndex: 1000\n                  }\n               }}\n              />\n\n\n        </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}