{"ast":null,"code":"import _classCallCheck from\"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import FiberNewTwoToneIcon from'@material-ui/icons/FiberNewTwoTone';import TransitionHover from'../IconHovered';import\"./MusicBox.css\";import\"./checkbox.scss\";import\"./MuseNetComponent.css\";import Randomizer from\"./Randomize\";import InputHeader from\"./InputHeader\";import React,{Component}from'react';import defaults from'../../defaultMenuItems';var options=defaults.to_arr(defaults.menu_items());var MusicBox=/*#__PURE__*/function(_Component){_inherits(MusicBox,_Component);var _super=_createSuper(MusicBox);function MusicBox(props){var _this;_classCallCheck(this,MusicBox);_this=_super.call(this,props);_this.dissmissMenuItem=_this.props.clickback.bind(_assertThisInitialized(_this));_this.updateValue=_this.props.updateValue.bind(_assertThisInitialized(_this));_this.resetState=_this.props.resetState.bind(_assertThisInitialized(_this));_this.randomizeState=_this.props.randomizeState.bind(_assertThisInitialized(_this));_this.state={error_text:null};return _this;}_createClass(MusicBox,[{key:\"resetStateHandler\",value:function resetStateHandler(event){this.resetState();}},{key:\"send_gen\",value:function send_gen(parameters){if(!document.getElementById(\"email\").value.includes(\"@\")){this.setState({error_text:\"invalid email format\"});return;}var dict={};options.forEach(function(item){var found_item=parameters.find(function(spec){return item.title===spec.title;});console.log(item.title+\" | found | \"+found_item);dict[item.toParam]=found_item?found_item.value:item.default;});dict[\"email\"]=document.getElementById(\"email\").value;var action=\"https://1click2music.com/app/make_song/pretty\";console.log(JSON.stringify(dict));fetch(action,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(dict)}).then(function(response){if(response.status===200){var success_url=\"https://www.1click2music.com/sent_email\";window.location.href=success_url;}});}},{key:\"render\",value:function render(){var _this2=this;var gen_and_send;var relevant=this.props.invokedMenuItems.map(function(item){return/*#__PURE__*/_jsx(InputHeader,{clickback:_this2.dissmissMenuItem,item:item,updateValue:_this2.updateValue},\"input-\"+item.title);});if(relevant.length===0){relevant=/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\"});gen_and_send=null;}else{gen_and_send=/*#__PURE__*/_jsxs(\"div\",{className:\"options-have-been-selected\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"refresher\",children:/*#__PURE__*/_jsx(TransitionHover,{children:/*#__PURE__*/_jsx(FiberNewTwoToneIcon,{color:\"secondary\",onClick:function onClick(event){return _this2.resetStateHandler();}})})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(TextField,{className:\"inputemail\",placeholder:\"Enter email...\",id:\"email\",helperText:this.state.error_text,label:this.state.error_text===null?\"\":\"Error\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"submitbutton\",onClick:function onClick(){return _this2.send_gen(_this2.props.invokedMenuItems);},children:\"create\"})]})]});}var scale=null;if(!gen_and_send){scale=\"only-element\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"music-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"submit-form centered-header\",children:[gen_and_send,/*#__PURE__*/_jsx(Randomizer,{scale:scale,updateValue:this.updateValue,toggleMenuItems:this.dissmissMenuItem,randomizeState:this.randomizeState})]}),/*#__PURE__*/_jsx(\"div\",{className:\"playarea \"+scale,children:relevant})]});}}]);return MusicBox;}(Component);export default MusicBox;","map":{"version":3,"sources":["/Users/philbrockman/coding/local-coding-projects/musicaldashboard-refactored/src/Layouts/MainContent/MusicBox.js"],"names":["TextField","Button","FiberNewTwoToneIcon","TransitionHover","Randomizer","InputHeader","React","Component","defaults","options","to_arr","menu_items","MusicBox","props","dissmissMenuItem","clickback","bind","updateValue","resetState","randomizeState","state","error_text","event","parameters","document","getElementById","value","includes","setState","dict","forEach","item","found_item","find","spec","title","console","log","toParam","default","action","JSON","stringify","fetch","method","headers","body","then","response","status","success_url","window","location","href","gen_and_send","relevant","invokedMenuItems","map","length","resetStateHandler","send_gen","scale"],"mappings":"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","sourcesContent":["import TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport FiberNewTwoToneIcon from '@material-ui/icons/FiberNewTwoTone';\nimport TransitionHover from '../IconHovered'\n\nimport \"./MusicBox.css\";\nimport \"./checkbox.scss\";\nimport \"./MuseNetComponent.css\"\nimport Randomizer from \"./Randomize\"\nimport InputHeader from \"./InputHeader\"\nimport React, {Component} from 'react';\n\nimport defaults from '../../defaultMenuItems'\nconst options = defaults.to_arr(defaults.menu_items())\n\nclass MusicBox extends Component {\n  constructor(props) {\n    super(props);\n\n    this.dissmissMenuItem = this.props.clickback.bind(this);\n    this.updateValue      = this.props.updateValue.bind(this);\n    this.resetState       = this.props.resetState.bind(this);\n    this.randomizeState   = this.props.randomizeState.bind(this);\n\n    this.state = {\n      error_text: null\n    }\n  }\n\n  resetStateHandler(event) {\n    this.resetState();\n  }\n\n  send_gen(parameters){\n    if(!document.getElementById(\"email\").value.includes(\"@\")){\n      this.setState({error_text: \"invalid email format\"})\n      return;\n    }\n\n    var dict = {}\n    options.forEach(item => {\n      let found_item = parameters.find(spec => item.title===spec.title);\n      console.log(item.title + \" | found | \" + found_item)\n      dict[item.toParam] = found_item ? found_item.value : item.default;\n    })\n\n    dict[\"email\"] = document.getElementById(\"email\").value\n    const action = \"https://1click2music.com/app/make_song/pretty\"\n\n    console.log(JSON.stringify(dict))\n\n    fetch(action, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(dict)\n    }).then(response => {\n      if (response.status ===  200){\n        let success_url = \"https://www.1click2music.com/sent_email\"\n        window.location.href = (success_url);\n      }\n    })\n  }\n\n  render() {\n    let gen_and_send\n    let relevant = this.props.invokedMenuItems.map(item => {\n      return(\n          <InputHeader\n            key={\"input-\"+item.title}\n            clickback={this.dissmissMenuItem }\n            item={item}\n            updateValue={this.updateValue}\n            />\n      );\n    })\n\n    if(relevant.length === 0){\n      relevant =  (<div className=\"placeholder\"></div>);\n      gen_and_send = null;\n    } else{\n      gen_and_send = (\n        <div className=\"options-have-been-selected\">\n          <span className=\"refresher\">\n            <TransitionHover>\n              <FiberNewTwoToneIcon color=\"secondary\" onClick={(event) => this.resetStateHandler()} />\n            </TransitionHover>\n          </span>\n          <span>\n            <TextField\n              className=\"inputemail\"\n              placeholder=\"Enter email...\"\n              id=\"email\"\n              helperText={this.state.error_text}\n              label={this.state.error_text === null ? \"\": \"Error\"}\n              variant=\"outlined\"\n              />\n            <Button\n              variant=\"contained\"\n              className=\"submitbutton\"\n              onClick={() => this.send_gen(this.props.invokedMenuItems)}>\n              create</Button>\n          </span>\n        </div>\n        );\n    }\n\n    let scale = null\n    if(!gen_and_send){\n      scale = \"only-element\"\n    }\n\n    return (\n      <div className=\"music-box\">\n        <div className=\"submit-form centered-header\">\n          {gen_and_send}\n\n          <Randomizer\n            scale={scale}\n            updateValue={this.updateValue}\n            toggleMenuItems={this.dissmissMenuItem}\n            randomizeState={this.randomizeState}/>\n        </div>\n        <div className={\"playarea \" + scale}>\n          {relevant}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MusicBox;\n"]},"metadata":{},"sourceType":"module"}